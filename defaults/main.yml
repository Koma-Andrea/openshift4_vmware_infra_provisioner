# ansible-configured
---

ocp_vm_cleanup: false
ocp_vm_create_webserver: True
ocp_vm_create_haproxy: True
ocp_vm_create_ipxe: True
enable_reservation: True
cpu_biggest: 0                # Set this value to che amount of Mhz per CPU to be reserved (i'll make the math for you)
dns_fail_is_not_fatal: False  # Ignore all DNS checks (You should nod ignore this kind of errors)
ptr_fail_is_not_fatal: True   # Using iPXE PTR should not be a problem.
checks_only: False            # Do the Checks and exit

vcenter:
    host: vcenter.vsphere.local
    user: administrator@vsphere.local
    password: password
    datacenter: datacenter01
    folder: /OKD
    validate_certs: no
    datastore: "datastore01" 

ocp_installer:
    basedomain: lab.local
    clustername: okd01
    pullsecret: FILLME 
    sshkey: FILLME
    kernel: https://mirror.openshift.com/pub/openshift-v4/dependencies/rhcos/latest/latest/rhcos-4.4.3-x86_64-installer-kernel-x86_64
    initrd: https://mirror.openshift.com/pub/openshift-v4/dependencies/rhcos/latest/latest/rhcos-4.4.3-x86_64-installer-initramfs.x86_64.img
    rhcosimage: https://mirror.openshift.com/pub/openshift-v4/dependencies/rhcos/latest/latest/rhcos-4.4.3-x86_64-metal.x86_64.raw.gz
    installer: https://mirror.openshift.com/pub/openshift-v4/clients/ocp/latest/openshift-install-linux.tar.gz
    clients: https://mirror.openshift.com/pub/openshift-v4/clients/ocp/latest/openshift-client-linux.tar.gz

hosts_defaults:
    iso: "ocp_pxe.iso"
    network:
      name: MyNetWork
      mask: 255.255.255.0
      gw: 192.168.0.1
      dns:  # Max 3
          - 192.168.0.2
          - 192.168.0.3
    generic:
      nested_virt: False
      memory_mb: 16384
      num_cpus: 4
      num_cpu_cores_per_socket: 1
      mem_limit: 16384
      disk: 120
      guest_id: other4xLinux64Guest
      ignition: none
    master:
      nested_virt: True
      memory_mb: 16384
      num_cpus: 4
      num_cpu_cores_per_socket: 1
      mem_limit: 16384
      disk: 120
      guest_id: coreos64Guest
      ignition: master.ign
    bootstrap:
      nested_virt: False
      memory_mb: 16384
      num_cpus: 4
      num_cpu_cores_per_socket: 1
      mem_limit: 16384
      disk: 120
      guest_id: coreos64Guest
      ignition: bootstrap.ign
    worker:
      nested_virt: True
      memory_mb: 8192
      num_cpus: 4
      num_cpu_cores_per_socket: 1
      mem_limit: 8192
      disk: 120
      guest_id: coreos64Guest
      ignition: worker.ign

vm_hosts:
    - hostname: master1.ocp.okd01.lab.local # Required
      nested_virt: True                     # Optional
      num_cpus: 4                           # Optional
      num_cpu_cores_per_socket: 1           # Optional
      memory_mb: 16384                      # Optional
      vmname: master1                       # Optional
      type: master                          # Required
      annotation: 'First node'              # Optional
      network:
          ip: 192.168.168.180               # Required
          name: MyNetWork                   # Optional
          mask: 255.255.255.0               # Optional
          gw: 192.168.0.1                   # Optional
          dns:                              # Optional
              - 192.168.0.2                 # Optional
              - 192.168.0.3                 # Optional
    - hostname: master2.ocp.okd01.lab.local
      type: master
      network:
          ip: 192.168.168.181
    - hostname: master3.ocp.okd01.lab.local
      type: master
      network:
          ip: 192.168.168.182
    - hostname: worker1.ocp.okd01.lab.local
      type: worker
      network:
          ip: 192.168.168.183
    - hostname: worker2.ocp.okd01.lab.local
      type: worker
      network:
          ip: 192.168.168.184
    - hostname: worker3.ocp.okd01.lab.local
      type: worker
      network:
          ip: 192.168.168.185
    - hostname: bootstrap.ocp.okd01.lab.local
      type: bootstrap
      network:
          ip: 192.168.168.187
    - hostname: bootstrap.ocp.okd01.lab.local
      type: generic
      network:
          ip: 192.168.168.188